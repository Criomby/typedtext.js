var __awaiter=this&&this.__awaiter||function(b,d,e,c){function h(g){return g instanceof e?g:new e(function(a){a(g)})}return new (e||=Promise)(function(g,a){function f(m){try{k(c.next(m))}catch(n){a(n)}}function l(m){try{k(c["throw"](m))}catch(n){a(n)}}function k(m){m.done?g(m.value):h(m.value).then(f,l)}k((c=c.apply(b,d||[])).next())})},__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(b,d,e,c){if("a"===e&&!c)throw new TypeError("Private accessor was defined without a getter");if("function"===
typeof d?b!==d||!c:!d.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?c:"a"===e?c.call(b):c?c.value:d.get(b)},__classPrivateFieldSet=this&&this.__classPrivateFieldSet||function(b,d,e,c,h){if("m"===c)throw new TypeError("Private method is not writable");if("a"===c&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof d?b!==d||!h:!d.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");
return"a"===c?h.call(b,e):h?h.value=e:d.set(b,e),e};
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define("Typedtext",d):(b="undefined"!==typeof globalThis?globalThis:b||self,function(){var e=b.Typedtext,c=b.Typedtext=d();c.noConflict=function(){b.Typedtext=e;return c}}())})(this,function(){function b(a){return new Promise(f=>setTimeout(f,a))}function d(a,f){f/=100;a=e(a*(1-f/2),a*(1+f));let l=10>a?10:a;return new Promise(k=>setTimeout(k,l))}function e(a,f){a=Math.ceil(a);
f=Math.floor(f);return Math.floor(Math.random()*(f-a+1))+a}const c={elementSentenceId:"sentence",elementCursorId:"cursor",cursor:"|",cursorColor:"black",textColor:"black",permaBlink:!1,staticCursor:!1,blinkSpeed:.6,content:[{text:"This is Typedtext.js!",color:"black",cursor:"|",cursorColor:"blue",timeout:2E3}],delay:100,delayAfter:1500,deleteSpeed:100,printConfig:!1,varSpeed:!1,varSpeedPercentage:.5,typos:!1,typosProb:.1,typosDelayMultiplier:3.5,underline:!1,selectable:!0};class h{constructor(a={}){g.set(this,
!1);a=Object.assign(Object.assign({},c),a);!0===a.printConfig&&this._printConfig(a);if(a.permaBlink&&a.staticCursor)throw"Typedtext.js: Cannot set both {permaBlink: true, staticCursor: true}. Select one.";this.elmSent=document.getElementById(a.elementSentenceId);this.elmCurs=document.getElementById(a.elementCursorId);this.cursor=a.cursor;this.cursorColor=a.cursorColor;this.textColor=a.textColor;this.permaBlink=a.permaBlink;this.staticCursor=a.staticCursor;this.content=a.content;this.delay=a.delay;
this.delayAfter=a.delayAfter;this.deleteSpeed=a.deleteSpeed;this.varSpeed=a.varSpeed;this.varSpeedPercentage=a.varSpeedPercentage;this.typos=a.typos;this.typosProb=a.typosProb;this.typosDelayMultiplier=a.typosDelayMultiplier;this.underline=a.underline;this.selectable=a.selectable;this.blink=`blink ${a.blinkSpeed}s linear infinite alternate`;this._setupElements(a)}static getVersion(){return"0.2.2:122022"}isRunning(){return __classPrivateFieldGet(this,g,"f")}run(){return __awaiter(this,void 0,void 0,
function*(){__classPrivateFieldSet(this,g,!0,"f");let a=0;for(;__classPrivateFieldGet(this,g,"f");)yield this.type(this.content[a]),yield b(this.delayAfter),yield this.delete(),yield b(this.delayAfter),a++,a>=this.content.length&&(a=0)})}stop(){__classPrivateFieldSet(this,g,!1,"f")}type(a){return __awaiter(this,void 0,void 0,function*(){const f=a.text;if("undefined"==f||""==f)throw"text has to be defined and cannot be empty";"color"in a&&(this.elmSent.style.color=a.color);"cursor"in a&&(this.elmCurs.innerHTML=
a.cursor);"cursorColor"in a&&(this.elmCurs.style.color=a.cursorColor);this.permaBlink||this._stopBlink();for(let k=0;k<f.length;k++){this.varSpeed?yield d(this.delay,this.varSpeedPercentage):yield b(this.delay);if(this.typos&&Math.random()<=this.typosProb){var l=this.elmSent;l.append.call(l,"abcdefghijklmnopqrstuvwxyz"[Math.floor(26*Math.random())]);this.varSpeed?yield d(this.delay*this.typosDelayMultiplier,this.varSpeedPercentage):yield b(this.delay*this.typosDelayMultiplier);l=this.elmSent.innerHTML.slice(0,
-1);this.elmSent.innerHTML=l;this.varSpeed?yield d(this.delay,this.varSpeedPercentage):yield b(this.delay)}this.elmSent.append(f[k])}this.staticCursor||this._startBlink();"timeout"in a&&(yield b(a.timeout))})}delete(){return __awaiter(this,void 0,void 0,function*(){const a=this.elmSent.innerHTML.split("");for(this.permaBlink||this._stopBlink();0<a.length;)yield b(this.deleteSpeed),a.pop(),this.elmSent.innerHTML=a.join("");this.staticCursor||this._startBlink();this._resetStyles()})}_printConfig(a){console.log("- Typedtext.js 0.2.2:122022 -\n\nconfig:",
a)}_setupElements(a){if(!this.elmSent||!this.elmCurs)throw"Typedtext.js: target element(s) not found:\nsentence: ${this.elmSent}\ncursor: ${this.elmCurs}";this.elmSent.style.display="inline-block";this.elmSent.style.color=a.textColor;this.underline&&(this.elmSent.style.textDecoration="underline");this.elmCurs.style.display="inline-block";this.elmCurs.style.color=a.cursorColor;this.elmCurs.style.animation=this.blink;this.elmCurs.innerHTML=this.cursor;this.selectable||(this.elmSent.classList.add("unselectable"),
this.elmCurs.classList.add("unselectable"))}_startBlink(){this.elmCurs.style.animation=this.blink}_stopBlink(){this.elmCurs.style.animation=""}_resetStyles(){this.elmSent.style.color=this.textColor;this.elmCurs.innerHTML=this.cursor;this.elmCurs.style.color=this.cursorColor}}var g=new WeakMap;return h});let cssStyle=document.createElement("style"),blink="@keyframes blink {0% {opacity: 1;} 40% {opacity: 1;} 60% {opacity: 0;} 100% {opacity: 0;}} ",unselectable=".unselectable {-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;} ";
cssStyle.innerHTML=blink+unselectable;document.head.appendChild(cssStyle);
