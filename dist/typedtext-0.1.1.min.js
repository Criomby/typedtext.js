var __awaiter=this&&this.__awaiter||function(a,b,c,f){function l(e){return e instanceof c?e:new c(function(g){g(e)})}return new (c||=Promise)(function(e,g){function m(d){try{h(f.next(d))}catch(k){g(k)}}function n(d){try{h(f["throw"](d))}catch(k){g(k)}}function h(d){d.done?e(d.value):l(d.value).then(m,n)}h((f=f.apply(a,b||[])).next())})};
const version="0.1.1:122022",defaultOptions={elementSentenceId:"sentence",elementCursorId:"cursor",cursor:"|",cursorColor:"black",textColor:"black",permaBlink:!1,blinkSpeed:.6,content:[{text:"This is the default text!",color:"black",cursor:";",cursorColor:"black",timeout:2E3}],delay:100,delayAfter:1500,printConfig:!1,autoRun:!1,varSpeed:!1,underline:!1},contentObj={text:"default",color:"black",cursor:"|",corsorColor:"black",timeout:1E3};
class Typedtext{constructor(a={}){this.config=Object.assign(Object.assign({},defaultOptions),a);!0===this.config.printConfig&&this.printConfig();this.elmSent=document.getElementById(this.config.elementSentenceId);this.elmCurs=document.getElementById(this.config.elementCursorId);this.cursor=this.config.cursor;this.permaBlink=this.config.permaBlink;this.blink=`blink ${this.config.blinkSpeed}s linear infinite alternate`;this.styleElements();this.elmCurs.innerHTML=this.cursor;this.content=this.config.content;
this.delay=this.config.delay;this.delayAfter=this.config.delayAfter;this.varSpeed=this.config.varSpeed;this.config.autoRun&&this.run()}styleElements(){if(!this.elmSent||!this.elmCurs)throw`Typerscript element(s) not found:
                sentence: ${this.elmSent},
                cursor: ${this.elmCurs}`;this.elmSent.style.display="inline-block";this.elmSent.style.color=this.config.textColor;this.config.underline&&(this.elmSent.style.textDecoration="underline");this.elmCurs.style.display="inline-block";this.elmCurs.style.color=this.config.textColor;this.elmCurs.style.backgroundColor="white";this.elmCurs.style.animation=this.blink}type(a){return __awaiter(this,void 0,void 0,function*(){const b=a.text;"color"in a&&(this.elmSent.style.color=a.color);"cursor"in
a&&(this.elmCurs.innerHTML=a.cursor);"cursorColor"in a&&(this.elmCurs.style.color=a.cursorColor);this.permaBlink||this.stopBlink();for(let c=0;c<b.length;c++)this.varSpeed?yield waitForMs(getRandInt(this.delay-100,this.delay+100)):yield waitForMs(this.delay),this.elmSent.append(b[c]);this.permaBlink||this.startBlink();"timeout"in a&&(yield waitForMs(a.timeout))})}delete(){return __awaiter(this,void 0,void 0,function*(){const a=this.elmSent.innerHTML.split("");for(this.permaBlink||this.stopBlink();0<
a.length;)yield waitForMs(this.delay),a.pop(),this.elmSent.innerHTML=a.join("");this.permaBlink||this.startBlink();this.resetStyles()})}run(){return __awaiter(this,void 0,void 0,function*(){let a=0;for(;;)yield this.type(this.content[a]),yield waitForMs(this.delayAfter),yield this.delete(),yield waitForMs(this.delayAfter),a++,a>=this.content.length&&(a=0)})}printConfig(){console.log(`- Typedtext.js ${version} -\n\nconfig:`,this.config)}startBlink(){this.elmCurs.style.animation=this.blink}stopBlink(){this.elmCurs.style.animation=
""}resetStyles(){this.elmSent.style.color=this.config.textColor;this.elmCurs.innerHTML=this.cursor;this.elmCurs.style.color=this.config.cursorColor}}function waitForMs(a){return new Promise(b=>setTimeout(b,a))}function getRandInt(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a+1))+a};
